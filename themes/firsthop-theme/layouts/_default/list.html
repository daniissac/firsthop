{{ define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end }}

{{ define "main" }}
<div class="pb-16">
    <header class="mb-12">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">
            {{ .Title }}
        </h1>
        {{ if .Content }}
        <div class="prose text-gray-600">
            {{ .Content }}
        </div>
        {{ end }}
        
        {{ if .Pages }}
        <p class="text-sm text-gray-500 mt-4">
            {{ len .Pages }} {{ if eq (len .Pages) 1 }}post{{ else }}posts{{ end }}
        </p>
        {{ end }}
    </header>

    {{ if .Pages }}
    <div class="space-y-8">
        {{ range .Paginator.Pages }}
        <article class="group">
            <a href="{{ .Permalink }}" class="block">
                <div class="flex flex-col space-y-2">
                    <h2 class="font-medium text-gray-900 group-hover:text-gray-700 transition-colors">
                        {{ .Title }}
                    </h2>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        {{ if .Params.summary }}
                            {{ .Params.summary }}
                        {{ else }}
                            {{ .Summary | truncate 200 }}
                        {{ end }}
                    </p>
                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                        <time datetime="{{ .Date.Format "2006-01-02" }}">
                            {{ .Date.Format "January 2, 2006" }}
                        </time>
                        {{ if .Params.readingTime }}
                        <span>{{ .Params.readingTime }}</span>
                        {{ end }}
                        {{ if .Params.tags }}
                        <div class="flex space-x-1">
                            {{ range first 3 .Params.tags }}
                            <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs">{{ . }}</span>
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>
                </div>
            </a>
        </article>
        {{ end }}
    </div>
    
    {{/* Pagination */}}
    {{ if gt .Paginator.TotalPages 1 }}
    <nav class="mt-12 flex justify-center" aria-label="Pagination">
        <div class="flex space-x-2">
            {{ if .Paginator.HasPrev }}
            <a href="{{ .Paginator.Prev.URL }}" class="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-200 rounded hover:border-gray-300 transition-colors">
                ← Previous
            </a>
            {{ end }}
            
            {{ range .Paginator.Pagers }}
            {{ if eq . $.Paginator }}
            <span class="px-3 py-2 text-sm bg-gray-900 text-white rounded">
                {{ .PageNumber }}
            </span>
            {{ else }}
            <a href="{{ .URL }}" class="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-200 rounded hover:border-gray-300 transition-colors">
                {{ .PageNumber }}
            </a>
            {{ end }}
            {{ end }}
            
            {{ if .Paginator.HasNext }}
            <a href="{{ .Paginator.Next.URL }}" class="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-200 rounded hover:border-gray-300 transition-colors">
                Next →
            </a>
            {{ end }}
        </div>
    </nav>
    {{ end }}
    
    {{ else }}
    <div class="text-center py-12">
        <p class="text-gray-600">No posts found.</p>
    </div>
    {{ end }}
</div>
{{ end }}